function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){o[t]=e},e.parcelRequired7c6=a);var s=a("eWCmQ");const r="https://637b70ec10a6f23f7fa8d15c.mockapi.io/",l={list:document.querySelector(".contacts__list"),btnEl:document.querySelector(".btn-all"),btnAddContact:document.querySelector(".btn-addContact"),backDropEl:document.querySelector(".backdrop"),formEl:document.querySelector(".contact-form"),btnClose:document.querySelector(".contact-form-close")};l.btnClose.addEventListener("click",(()=>{l.backDropEl.classList.toggle("is-closed")}));!function(){let t=localStorage.getItem("contact_key");t&&(t=JSON.parse(t),Object.entries(t).forEach((([t,e])=>{l.formEl.elements[t].value=e})))}(),l.formEl.addEventListener("input",(function(t){let e=localStorage.getItem("contact_key");e=e?JSON.parse(e):{},e[t.target.name]=t.target.value,localStorage.setItem("contact_key",JSON.stringify(e))})),l.formEl.addEventListener("submit",(function(t){t.preventDefault();const e=new FormData(l.formEl),n={};var o;e.forEach(((t,e)=>{n[e]=t})),console.log(n),(o=n,fetch(`${r}contacts/`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((t=>{if(!t.ok)throw new Error(t.statusText);return t.json()}))).then(c),t.target.reset(),localStorage.removeItem("contact_key")}));function c(){fetch(`${r}contacts`).then((t=>{if(!t.ok)throw new Error(t.statusText);return t.json()})).then((t=>{const e=t.map(i).join("");l.list.innerHTML=e,l.btnEl.style.display="none"}))}function i({id:t,name:e,createdAt:n,avatar:o,phone:a,email:s}){return`<li data-id="${t}" class="col-md-6 js-contact-card">\n      <div class="card mb-2 shadow">\n        <div class="d-flex justify-content-between pb-3 border-bottom">\n          <div class="d-flex flex-row align-items-center gap-1">\n            <div class="icon">\n               <span class="material-icons-outlined"> contacts </span>\n            </div>\n            <div class="ms-2 c-details">\n              <h2 class="h5 mb-0 fw-bold">${t} - ${e}</h2>\n              <span>${n}</span>\n            </div>\n          </div>\n          <img  src="${o}" alt="${e}" width="70" height="70"/>\n          <button type="button" class="btn-close" aria-label="Close"></button>\n        </div>\n        <div class="mt-2">\n          <ul class="list-group list-group-flush">\n            <li class="list-group-item d">\n              <a\n                href="tel:+${a}"\n                class="d-flex align-items-center text-secondary text-decoration-none nav-link"\n                ><span class="material-icons-round me-2"> phone </span> ${a}</a\n              >\n            </li>\n            <li class="list-group-item">\n              <a\n                href="mailto:${s}"\n                class="d-flex align-items-center text-secondary text-decoration-none nav-link"\n                ><span class="material-icons-round me-2">\n                  alternate_email\n                </span>\n                ${s}</a\n              >\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>`}l.btnAddContact.addEventListener("click",(()=>{l.backDropEl.classList.toggle("is-closed")})),l.btnEl.style.display="none",l.btnEl.addEventListener("click",c),l.list.addEventListener("click",(function(e){if("UL"===e.target.nodeName||"A"===e.target.nodeName)return;const n=e.target.closest(".js-contact-card"),o=n.dataset.id;if("BUTTON"==e.target.nodeName)return function(e){fetch(`${r}contacts/${e}`,{method:"DELETE"}).then((t=>{if(!t.ok)throw new Error(t.statusText);return t.json()})).then((e=>{t(s).Notify.info(`${e.name} was deleted!`)}))}(o),void n.remove();(function(t){return fetch(`${r}contacts/${t}`).then((t=>{if(!t.ok)throw new Error(t.statusText);return t.json()}))})(o).then((t=>{const e=i(t);l.list.innerHTML=e,l.btnEl.style.display="block"}))})),c();
//# sourceMappingURL=contacts.f783daa7.js.map
