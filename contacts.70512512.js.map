{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAUA,SAASC,IACPF,EAAAG,KAAKC,WAAWC,UAAUC,OAAO,Y,CANnCN,EAAAG,KAAKI,SAASC,iBAAiB,QAASN,GACxCF,EAAAG,KAAKM,OAAOD,iBAAiB,SAoB7B,SAAqBE,GACnB,IAAIC,EAAYC,aAAaC,QAxBL,eAyBxBF,EAAYA,EAAYG,KAAKC,MAAMJ,GAAa,GAEhDA,EAAUD,EAAMM,OAAOC,MAAQP,EAAMM,OAAOE,MAE5CN,aAAaO,QA7BW,cA6BgBL,KAAKM,UAAUT,G,IAzBzDX,EAAAG,KAAKM,OAAOD,iBAAiB,UA2B7B,SAAsBa,GACpBA,EAAEC,iBACF,MAAMC,EAAW,IAAIC,SAASxB,EAAAG,KAAKM,QAC7BgB,EAAW,GACjBF,EAASG,SAAQ,CAACR,EAAOD,KACvBQ,EAASR,GAAQC,CAAK,IAExBS,QAAQC,IAAIH,IAEZ,EAAAI,EAAAC,YAAWL,GACRM,MAAKC,IACJ,MAAMC,GAAS,EAAAC,EAAAC,cAAaH,GAC5BhC,EAAAG,KAAKiC,KAAKC,mBAAmB,aAAcJ,EAAO,IAEnDK,OAAMC,GAASZ,QAAQC,IAAIW,KAC3BC,QAAQtC,GAEXmB,EAAEL,OAAOyB,QACT7B,aAAa8B,WAjDW,c,IAK1B1C,EAAAG,KAAKwC,cAAcnC,iBAAiB,SA8CpC,WACER,EAAAG,KAAKC,WAAWC,UAAUC,OAAO,Y,IA1CnC,WACE,IAAIsC,EAAShC,aAAaC,QAXF,eAapB+B,IACFA,EAAS9B,KAAKC,MAAM6B,GACpBC,OAAOC,QAAQF,GAAQlB,SAAQ,EAAET,EAAMC,MACrClB,EAAAG,KAAKM,OAAOsC,SAAS9B,GAAMC,MAAQA,CAAK,I,CAK9C8B","sources":["src/js/contacts/form.js"],"sourcesContent":["import { refs } from './refs';\nimport { addContact } from './service/contacts_API';\nimport { createMarkup } from './createMarkUp';\nconst LOCAL_STORAGE_KEY = 'contact_key';\n\nrefs.btnClose.addEventListener('click', onBtnClose);\nrefs.formEl.addEventListener('input', handleInput);\nrefs.formEl.addEventListener('submit', onSubmitForm);\nrefs.btnAddContact.addEventListener('click', onBtnOpenClick);\n\nfunction onBtnClose() {\n  refs.backDropEl.classList.toggle('is-closed');\n}\nfunction initForm() {\n  let memory = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n  if (memory) {\n    memory = JSON.parse(memory);\n    Object.entries(memory).forEach(([name, value]) => {\n      refs.formEl.elements[name].value = value;\n    });\n  }\n}\n\ninitForm();\n\nfunction handleInput(event) {\n  let savedData = localStorage.getItem(LOCAL_STORAGE_KEY);\n  savedData = savedData ? JSON.parse(savedData) : {};\n\n  savedData[event.target.name] = event.target.value;\n\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(savedData));\n}\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const formData = new FormData(refs.formEl);\n  const userData = {};\n  formData.forEach((value, name) => {\n    userData[name] = value;\n  });\n  console.log(userData);\n\n  addContact(userData)\n    .then(data => {\n      const markUp = createMarkup(data);\n      refs.list.insertAdjacentHTML('afterbegin', markUp);\n    })\n    .catch(error => console.log(error))\n    .finally(onBtnClose);\n\n  e.target.reset();\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n}\nfunction onBtnOpenClick() {\n  refs.backDropEl.classList.toggle('is-closed');\n}\n"],"names":["$331w5","parcelRequire","$efa81cb91a67bd5d$var$onBtnClose","refs","backDropEl","classList","toggle","btnClose","addEventListener","formEl","event","savedData","localStorage","getItem","JSON","parse","target","name","value","setItem","stringify","e","preventDefault","formData","FormData","userData","forEach","console","log","$8cAGg","addContact","then","data","markUp","$a6C7W","createMarkup","list","insertAdjacentHTML","catch","error","finally","reset","removeItem","btnAddContact","memory","Object","entries","elements","$efa81cb91a67bd5d$var$initForm"],"version":3,"file":"contacts.70512512.js.map"}