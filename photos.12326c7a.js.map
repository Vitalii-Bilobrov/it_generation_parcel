{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,uCACA,MAAMC,EAAYC,SAASC,cAAc,YACnCC,EAASF,SAASC,cAAc,mB,IAEpCE,EAAQ,IAAAC,QACRC,EAAK,IAAAD,QACLE,EAAS,IAAAF,QACTG,EAAM,IAAAH,QACNI,EAAa,IAAAJ,QAgCf,MAAMK,EAAc,IArCpB,MAOEC,YACE,OAAOC,MACL,oDAAkDC,EAAAf,EAAA,CAAEgB,KAAMV,WAAcS,EAAAf,EAAA,CACtEgB,KAAMR,YACAO,EAAAf,EAAA,CAAEgB,KAAMN,eAAgBK,EAAAf,EAAA,CAAEgB,KAAMP,MACxCQ,MAAKC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,G,CAItBC,YACF,OAAAR,EAAAf,EAAA,CAAOgB,KAAMN,E,CAGXa,UAAMC,G,UACFd,EAAQc,E,CAGhBC,SAASC,G,UACDf,EAAee,E,CAGvBC,kBACE,OAAOZ,EAAAf,EAAA,CAAAgB,KAAMR,GAAOoB,KAAKC,KAAKd,EAAAf,EAAA,CAAAgB,KAAML,GAAYI,EAAAf,EAAA,CAAGgB,KAAMP,G,eAhC3DM,EAAAe,EAAA,CAAAd,KAAAV,EAAQ,C,kBAAG,gDACXS,EAAAe,EAAA,CAAAd,KAAAR,EAAK,C,kBAAG,IACRO,EAAAe,EAAA,CAAAd,KAAAP,EAAS,C,kBAAG,KACZM,EAAAe,EAAA,CAAAd,KAAAN,EAAM,C,kBAAG,KACTK,EAAAe,EAAA,CAAAd,KAAAL,EAAa,C,kBAAG,G,GAkElBN,EAAO0B,iBAAiB,UAvBxB,SAAuBC,GACrBA,EAAMC,iBACN,MACEC,UAAUX,MAAEA,IACVS,EAAMG,OACJC,EAAcb,EAAMc,MAAMC,cAAcC,OAC9C,IAAKH,EACH,OAAOrB,EAAAyB,GAASC,OAAOC,QAAQ,cAEjC9B,EAAYW,MAAQa,EACpBxB,EAAYC,YAAYI,MAAK0B,IAC3B,GAA4B,IAAxBA,EAAKC,QAAQC,OAEf,YADA9B,EAAAyB,GAASC,OAAOC,QAAQ,iBAG1B9B,EAAYa,SAASkB,EAAKjB,OAC1B,MAAMoB,EAAiBlC,EAAYe,kBAEnCoB,QAAQC,IAAI,kBAAmBF,GAC/B5C,EAAU+C,UAAyBN,EAAKC,QA1BvCM,KACC,EAACC,KAAEA,EAAIC,gBAAEA,KAA+B,6CAC9BD,EAAKE,eAAeD,mCAG/BE,KAAK,GAqB0C,G","sources":["src/js/photos.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst galleryEL = document.querySelector('.gallery');\nconst formEl = document.querySelector('.js-search-form');\nclass UnsplashApi {\n  #API_KEY = 'gEopSExvxGRBacvbCX5khX4G6aHTWmEvx0oJJ4DvPUk';\n  #page = 1;\n  #per_page = 25;\n  #query = '';\n  #total_photos = 0;\n\n  getPhotos() {\n    return fetch(\n      `https://api.unsplash.com/search/photos?client_id=${this.#API_KEY}&page=${\n        this.#page\n      }&query=${this.#query}&per_page=${this.#per_page}`\n    ).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  }\n\n  get query() {\n    return this.#query;\n  }\n\n  set query(newQuery) {\n    this.#query = newQuery;\n  }\n\n  setTotal(total) {\n    this.#total_photos = total;\n  }\n\n  morePagesExists() {\n    return this.#page < Math.ceil(this.#total_photos / this.#per_page);\n  }\n}\n\nconst unsplashApi = new UnsplashApi();\n\nfunction createMarkup(photos) {\n  return photos\n    .map(\n      ({ urls, alt_description }) => /*html*/ `<li class=\"gallery__item\">\n    <img src=\"${urls.small}\" alt=\"${alt_description}\" class=\"gallery-img\">\n</li>`\n    )\n    .join('');\n}\nfunction onInputSubmit(event) {\n  event.preventDefault();\n  const {\n    elements: { query },\n  } = event.target;\n  const searchValue = query.value.toLowerCase().trim();\n  if (!searchValue) {\n    return Notiflix.Notify.failure('Input word');\n  }\n  unsplashApi.query = searchValue;\n  unsplashApi.getPhotos().then(data => {\n    if (data.results.length === 0) {\n      Notiflix.Notify.failure('Nothing found');\n      return;\n    }\n    unsplashApi.setTotal(data.total);\n    const haveMorePhotos = unsplashApi.morePagesExists();\n\n    console.log('haveMorePhotos:', haveMorePhotos);\n    galleryEL.innerHTML = createMarkup(data.results);\n  });\n}\n\nformEl.addEventListener('submit', onInputSubmit);\n"],"names":["$jkMrE","parcelRequire","$9c12ba989f9e4559$var$galleryEL","document","querySelector","$9c12ba989f9e4559$var$formEl","$9c12ba989f9e4559$var$_API_KEY","WeakMap","$9c12ba989f9e4559$var$_page","$9c12ba989f9e4559$var$_per_page","$9c12ba989f9e4559$var$_query","$9c12ba989f9e4559$var$_total_photos","$9c12ba989f9e4559$var$unsplashApi","getPhotos","fetch","$parcel$interopDefault","this","then","response","ok","Error","status","json","query","newQuery","setTotal","total","morePagesExists","Math","ceil","$g6yUq","addEventListener","event","preventDefault","elements","target","searchValue","value","toLowerCase","trim","$eWCmQ","Notify","failure","data","results","length","haveMorePhotos","console","log","innerHTML","map","urls","alt_description","small","join"],"version":3,"file":"photos.12326c7a.js.map"}