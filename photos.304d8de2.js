function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var s={id:e,exports:{}};return r[e]=s,t.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=s);var i=s("eWCmQ"),o=s("jkMrE"),l=s("g6yUq"),a=s("gMe87"),u=new WeakMap,c=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap;function d(e){return e.map((({urls:e,alt_description:t})=>`<li class="gallery__item">\n    <img src="${e.small}" alt="${t}" class="gallery-img">\n</li>`)).join("")}const p={galleryEL:document.querySelector(".gallery"),formEl:document.querySelector(".js-search-form")},m=new class{getPhotos(){return fetch(`https://api.unsplash.com/search/photos?client_id=${e(o)(this,u)}&page=${e(o)(this,c)}&query=${e(o)(this,f)}&per_page=${e(o)(this,h)}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}get query(){return e(o)(this,f)}set query(t){e(a)(this,f,t)}setTotal(t){e(a)(this,g,t)}morePagesExists(){return e(o)(this,c)<Math.ceil(e(o)(this,g)/e(o)(this,h))}incrementPage(){e(a)(this,c,e(o)(this,c)+1)}resetPage(){e(a)(this,c,1)}constructor(){e(l)(this,u,{writable:!0,value:"gEopSExvxGRBacvbCX5khX4G6aHTWmEvx0oJJ4DvPUk"}),e(l)(this,c,{writable:!0,value:1}),e(l)(this,h,{writable:!0,value:25}),e(l)(this,f,{writable:!0,value:""}),e(l)(this,g,{writable:!0,value:0})}},y=new IntersectionObserver((function(t,r){t.forEach((t=>{t.isIntersecting&&(r.unobserve(t.target),m.incrementPage(),m.getPhotos().then((t=>{if(0===t.results.length)return void e(i).Notify.failure("Nothing found");p.galleryEL.insertAdjacentHTML("beforeend",d(t.results));if(m.morePagesExists()){const e=document.querySelector(".gallery__item:last-child");r.observe(e)}})))}))}),{root:null,rootMargin:"100px",threshold:1});p.formEl.addEventListener("submit",(function(t){t.preventDefault();const{elements:{query:r}}=t.target,n=r.value.toLowerCase().trim();if(!n)return e(i).Notify.failure("Input word");m.resetPage(),p.galleryEL.innerHTML="",m.query=n,m.getPhotos().then((t=>{if(0===t.results.length)return void e(i).Notify.failure("Nothing found");m.setTotal(t.total),p.galleryEL.innerHTML=d(t.results);if(m.morePagesExists()){const e=document.querySelector(".gallery__item:last-child");y.observe(e)}})),t.target.reset()}));
//# sourceMappingURL=photos.304d8de2.js.map
