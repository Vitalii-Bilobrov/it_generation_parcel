!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){o[t]=e},e.parcelRequired7c6=r),r.register("8slrw",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(Array.isArray(t))return t}})),r.register("7AJDX",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}})),r.register("ifqQW",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),r.register("auk6i",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){if(!t)return;if("string"==typeof t)return o.default(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o.default(t,e)};var n,o=(n=r("8NIkP"))&&n.__esModule?n:{default:n}})),r.register("8NIkP",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}}));var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t,e){return c.default(t)||i.default(t,e)||s.default(t,e)||l.default()};var c=u(r("8slrw")),i=u(r("7AJDX")),l=u(r("ifqQW")),s=u(r("auk6i"));function u(t){return t&&t.__esModule?t:{default:t}}var d=r("iU1Pc"),f="https://637b70ec10a6f23f7fa8d15c.mockapi.io/",p={list:document.querySelector(".contacts__list"),btnEl:document.querySelector(".btn-all"),btnAddContact:document.querySelector(".btn-addContact"),backDropEl:document.querySelector(".backdrop"),formEl:document.querySelector(".contact-form"),btnClose:document.querySelector(".contact-form-close")};p.btnClose.addEventListener("click",(function(){p.backDropEl.classList.toggle("is-closed")}));var m,v="contact_key";(m=localStorage.getItem(v))&&(m=JSON.parse(m),Object.entries(m).forEach((function(e){var n=t(a)(e,2),o=n[0],r=n[1];p.formEl.elements[o].value=r}))),p.formEl.addEventListener("input",(function(t){var e=localStorage.getItem(v);(e=e?JSON.parse(e):{})[t.target.name]=t.target.value,localStorage.setItem(v,JSON.stringify(e))})),p.formEl.addEventListener("submit",(function(t){t.preventDefault();var e,n=new FormData(p.formEl),o={};n.forEach((function(t,e){o[e]=t})),console.log(o),(e=o,fetch("".concat(f,"contacts/"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}))).then(b),t.target.reset(),localStorage.removeItem(v)}));function b(){fetch("".concat(f,"contacts")).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){var e=t.map(y).join("");p.list.innerHTML=e,p.btnEl.style.display="none"}))}function y(t){var e=t.id,n=t.name,o=t.createdAt,r=t.avatar,a=t.phone,c=t.email;return'<li data-id="'.concat(e,'" class="col-md-6 js-contact-card">\n      <div class="card mb-2 shadow">\n        <div class="d-flex justify-content-between pb-3 border-bottom">\n          <div class="d-flex flex-row align-items-center gap-1">\n            <div class="icon">\n               <span class="material-icons-outlined"> contacts </span>\n            </div>\n            <div class="ms-2 c-details">\n              <h2 class="h5 mb-0 fw-bold">').concat(e," - ").concat(n,"</h2>\n              <span>").concat(o,'</span>\n            </div>\n          </div>\n          <img  src="').concat(r,'" alt="').concat(n,'" width="70" height="70"/>\n          <button type="button" class="btn-close" aria-label="Close"></button>\n        </div>\n        <div class="mt-2">\n          <ul class="list-group list-group-flush">\n            <li class="list-group-item d">\n              <a\n                href="tel:+').concat(a,'"\n                class="d-flex align-items-center text-secondary text-decoration-none nav-link"\n                ><span class="material-icons-round me-2"> phone </span> ').concat(a,'</a\n              >\n            </li>\n            <li class="list-group-item">\n              <a\n                href="mailto:').concat(c,'"\n                class="d-flex align-items-center text-secondary text-decoration-none nav-link"\n                ><span class="material-icons-round me-2">\n                  alternate_email\n                </span>\n                ').concat(c,"</a\n              >\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>")}p.btnAddContact.addEventListener("click",(function(){p.backDropEl.classList.toggle("is-closed")})),p.btnEl.style.display="none",p.btnEl.addEventListener("click",b),p.list.addEventListener("click",(function(e){if("UL"===e.target.nodeName||"A"===e.target.nodeName)return;var n=e.target.closest(".js-contact-card"),o=n.dataset.id;if("BUTTON"==e.target.nodeName)return function(e){fetch("".concat(f,"contacts/").concat(e),{method:"DELETE"}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(e){t(d).Notify.info("".concat(e.name," was deleted!"))}))}(o),void n.remove();(function(t){return fetch("".concat(f,"contacts/").concat(t)).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}))})(o).then((function(t){var e=y(t);p.list.innerHTML=e,p.btnEl.style.display="block"}))})),b()}();
//# sourceMappingURL=contacts.4341cea8.js.map
