{"mappings":"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","sources":["src/js/timer.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js"],"sourcesContent":["import Notiflix from 'notiflix';\nclass Timer {\n  #selector;\n  #targetDate;\n  #datasetValues = {\n    days: ['день', 'дні', 'днів'],\n    hours: ['година', 'години', 'годин'],\n    minutes: ['хвилина', 'хвилини', 'хвилин'],\n    seconds: ['секунда', 'секунди', 'секунд'],\n  };\n  #refs = {};\n  #timerId = null;\n  constructor(selector, targetDate) {\n    this.#selector = selector;\n    this.#targetDate = new Date(targetDate);\n    console.log(this.#targetDate);\n  }\n  start() {\n    const today = new Date();\n    if (this.#targetDate < today) {\n      Notiflix.Notify.warning('Please select a new date!');\n      return;\n    }\n    this.#getRefs();\n\n    this.#timerId = setInterval(() => {\n      const delta = this.#targetDate.getTime() - Date.now();\n      if (delta <= 1000) {\n        clearInterval(this.#timerId);\n        const audio = document.querySelector('audio');\n        if (audio) {\n          audio.play();\n        }\n        Notiflix.Notify.success('Happy birthday!');\n        return;\n      }\n      this.#updateValue(delta);\n    }, 1000);\n  }\n  #getRefs() {\n    this.#refs.items = document.querySelectorAll(\n      `${this.#selector} .timer__box`\n    );\n    console.log(this.#refs);\n  }\n  #convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n  }\n  #addZero(n) {\n    return n.toString().padStart(2, '0');\n  }\n  drawCircle(index, value) {\n    const ctx = this.#refs.items[index].lastElementChild.getContext('2d');\n\n    ctx.clearRect(0, 0, 200, 200);\n    ctx.beginPath();\n    ctx.strokeStyle = 'red';\n\n    ctx.lineWidth = 4;\n    // ctx.lineCap = 'round';\n    let path = 60 / 2;\n    if (index === 1) {\n      path = 24 / 2;\n    }\n\n    ctx.arc(\n      100,\n      100,\n      100 - 2,\n      (Math.PI / path) * (value - path / 2),\n      (Math.PI / path) * (path * 2 - path / 2 - 0.01),\n      true\n    );\n\n    ctx.stroke();\n  }\n  #declensionNum(num, words) {\n    return words[\n      num % 100 > 4 && num % 100 < 20\n        ? 2\n        : [2, 0, 1, 1, 1, 2][num % 10 < 5 ? num % 10 : 5]\n    ];\n  }\n  #updateValue(delta) {\n    const data = this.#convertMs(delta);\n    Object.entries(data).forEach(([name, value], idx) => {\n      this.#refs.items[idx].firstElementChild.textContent =\n        this.#addZero(value);\n      this.drawCircle(idx, value);\n      this.#refs.items[idx].firstElementChild.dataset.title =\n        this.#declensionNum(value, this.#datasetValues[name]);\n    });\n  }\n}\n\nconst timer = new Timer('.timer', 'November 14, 2022 17:01:01');\ntimer.start();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n"],"names":["$jkMrE","parcelRequire","Object","defineProperty","$c9f733bc98e3bbfd$exports","value","default","receiver","privateSet","fn","has","TypeError","$60afe4cd2804d2bb$exports","obj","$60afe4cd2804d2bb$var$_checkPrivateRedeclaration","add","__esModule","$7e81353768b819eb$var$_selector","WeakMap","$7e81353768b819eb$var$_targetDate","$7e81353768b819eb$var$_datasetValues","$7e81353768b819eb$var$_refs","$7e81353768b819eb$var$_timerId","$7e81353768b819eb$var$_getRefs","WeakSet","$7e81353768b819eb$var$_convertMs","$7e81353768b819eb$var$_addZero","$7e81353768b819eb$var$_declensionNum","$7e81353768b819eb$var$_updateValue","$7e81353768b819eb$var$getRefs","$parcel$interopDefault","this","items","document","querySelectorAll","console","log","$7e81353768b819eb$var$convertMs","ms","minute","second","hour","day","Math","floor","$7e81353768b819eb$var$addZero","n","toString","padStart","$7e81353768b819eb$var$declensionNum","num","words","$7e81353768b819eb$var$updateValue","delta","data","call","entries","forEach","name","idx","firstElementChild","textContent","drawCircle","dataset","title","start","today","Date","$eWCmQ","Notify","warning","setInterval","getTime","now","clearInterval","audio","querySelector","play","success","index","ctx","lastElementChild","getContext","clearRect","beginPath","strokeStyle","lineWidth","path","arc","PI","stroke","constructor","selector","targetDate","$g6yUq","days","hours","minutes","seconds"],"version":3,"file":"timer.bb5729e0.js.map"}