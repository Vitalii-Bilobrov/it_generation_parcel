{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAW,+CACXC,EAAO,CACXC,KAAMC,SAASC,cAAc,oBAiD/B,SAASC,EAAaC,G,IAAEC,EAAFD,EAAEC,GAAIC,EAANF,EAAME,KAAMC,EAAZH,EAAYG,UAAWC,EAAvBJ,EAAuBI,OAAQC,EAA/BL,EAA+BK,MAAOC,EAAtCN,EAAsCM,MAC1D,MAAO,gBAQmCC,OARnBN,EAAG,0aAQwBM,OAARN,EAAG,OACzBM,OAD8BL,EAAK,+BAIlCK,OAHDJ,EAAU,wEAGOI,OAAhBH,EAAO,WAODG,OAPUL,EAAK,ySAS8BK,OAF7CF,EAAM,+KAOJE,OAL2CF,EAAM,sIAU9DE,OALaD,EAAM,8OAKbC,OAAND,EAAM,oG,CA9ExBX,EAAKC,KAAKY,iBAAiB,SAE3B,SAAqBC,GACnB,GAA0B,OAAtBA,EAAEC,OAAOC,UAA2C,MAAtBF,EAAEC,OAAOC,SACzC,OAEF,IAAMC,EAAOH,EAAEC,OAAOG,QAAQ,oBACxBZ,EAAKW,EAAKE,QAAQb,GAEC,UAArBQ,EAAEC,OAAOC,WACXI,QAAQC,IAAIf,GAehB,SAAuBA,GACdgB,MAAM,GAAuBV,OAApBb,EAAS,aAAca,OAAHN,GAAM,CACxCiB,OAAQ,WAEPC,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,IAEjBL,MAAK,SAAAM,GACJC,EAAAlC,GAASmC,OAAOC,KAAK,GAAgBrB,OAAbkB,EAAQvB,KAAK,iB,IAzBvC2B,CAAc5B,GACdW,EAAKkB,S,IAKAb,MAAM,GAAYV,OAATb,EAAS,aAAWyB,MAAK,SAAAC,GACvC,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,IAmBNL,MAAK,SAAAY,GACjB,IAAMC,EAAeD,EAAKE,IAAIlC,GAAcmC,KAAK,IAEjDvC,EAAKC,KAAKuC,UAAYH,C","sources":["src/js/contacts/contacts.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'material-icons/iconfont/material-icons.css';\nconst BASE_URL = 'https://637b70ec10a6f23f7fa8d15c.mockapi.io/';\nconst refs = {\n  list: document.querySelector('.contacts__list'),\n};\n\nrefs.list.addEventListener('click', handleClick);\n\nfunction handleClick(e) {\n  if (e.target.nodeName === 'UL' || e.target.nodeName === 'A') {\n    return;\n  }\n  const item = e.target.closest('.js-contact-card');\n  const id = item.dataset.id;\n\n  if (e.target.nodeName == 'BUTTON') {\n    console.log(id);\n    deleteContact(id);\n    item.remove();\n  }\n}\n\nfunction getContscts() {\n  return fetch(`${BASE_URL}contacts`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction deleteContact(id) {\n  return fetch(`${BASE_URL}contacts/${id}`, {\n    method: 'DELETE',\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(contact => {\n      Notiflix.Notify.info(`${contact.name} was deleted!`);\n    });\n}\n\ngetContscts().then(data => {\n  const contactItems = data.map(createMarkup).join('');\n\n  refs.list.innerHTML = contactItems;\n});\n\nfunction createMarkup({ id, name, createdAt, avatar, phone, email }) {\n  return `<li data-id=\"${id}\" class=\"col-md-6 js-contact-card\">\n      <div class=\"card mb-2 shadow\">\n        <div class=\"d-flex justify-content-between pb-3 border-bottom\">\n          <div class=\"d-flex flex-row align-items-center gap-1\">\n            <div class=\"icon\">\n               <span class=\"material-icons-outlined\"> contacts </span>\n            </div>\n            <div class=\"ms-2 c-details\">\n              <h2 class=\"h5 mb-0 fw-bold\">${id} - ${name}</h2>\n              <span>${createdAt}</span>\n            </div>\n          </div>\n          <img  src=\"${avatar}\" alt=\"${name}\" width=\"70\" height=\"70\"/>\n          <button type=\"button\" class=\"btn-close\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"mt-2\">\n          <ul class=\"list-group list-group-flush\">\n            <li class=\"list-group-item d\">\n              <a\n                href=\"tel:+${phone}\"\n                class=\"d-flex align-items-center text-secondary text-decoration-none nav-link\"\n                ><span class=\"material-icons-round me-2\"> phone </span> ${phone}</a\n              >\n            </li>\n            <li class=\"list-group-item\">\n              <a\n                href=\"mailto:${email}\"\n                class=\"d-flex align-items-center text-secondary text-decoration-none nav-link\"\n                ><span class=\"material-icons-round me-2\">\n                  alternate_email\n                </span>\n                ${email}</a\n              >\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n}\n\n// ``;\n"],"names":["$iU1Pc","parcelRequire","$e44360c91f60ac46$var$BASE_URL","$e44360c91f60ac46$var$refs","list","document","querySelector","$e44360c91f60ac46$var$createMarkup","param","id","name","createdAt","avatar","phone","email","concat","addEventListener","e","target","nodeName","item","closest","dataset","console","log","fetch","method","then","response","ok","Error","statusText","json","contact","$parcel$interopDefault","Notify","info","$e44360c91f60ac46$var$deleteContact","remove","data","contactItems","map","join","innerHTML"],"version":3,"file":"contacts.e36ba341.js.map"}