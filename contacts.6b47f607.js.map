{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAAO,CACXC,KAAMC,SAASC,cAAc,oBAiD/B,SAASC,GAAaC,GAAEA,EAAEC,KAAEA,EAAIC,UAAEA,EAASC,OAAEA,EAAMC,MAAEA,EAAKC,MAAEA,IAC1D,MAAO,gBAAgBL,0aAQmBA,OAAQC,+BAC9BC,wEAGCC,WAAgBF,ySAOVG,+KAE6CA,sIAK3CC,8OAKbA,oG,CA9ElBV,EAAKC,KAAKU,iBAAiB,SAE3B,SAAqBC,GACnB,GAA0B,OAAtBA,EAAEC,OAAOC,UAA2C,MAAtBF,EAAEC,OAAOC,SACzC,OAEF,MAAMC,EAAOH,EAAEC,OAAOG,QAAQ,oBACxBX,EAAKU,EAAKE,QAAQZ,GAEC,UAArBO,EAAEC,OAAOC,WACXI,QAAQC,IAAId,GAehB,SAAuBA,GACde,MAAM,wDAAuBf,IAAM,CACxCgB,OAAQ,WAEPC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,MAAM,IAEvBL,MAAKM,IACJC,EAAA/B,GAASgC,OAAOC,KAAK,GAAGH,EAAQtB,oBAAoB,G,CAzBtD0B,CAAc3B,GACdU,EAAKkB,S,IAKAb,MAAM,wDAAuBE,MAAKC,IACvC,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,MAAM,IAmBZL,MAAKY,IACjB,MAAMC,EAAeD,EAAKE,IAAIhC,GAAciC,KAAK,IAEjDrC,EAAKC,KAAKqC,UAAYH,CAAY","sources":["src/js/contacts/contacts.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'material-icons/iconfont/material-icons.css';\nconst BASE_URL = 'https://637b70ec10a6f23f7fa8d15c.mockapi.io/';\nconst refs = {\n  list: document.querySelector('.contacts__list'),\n};\n\nrefs.list.addEventListener('click', handleClick);\n\nfunction handleClick(e) {\n  if (e.target.nodeName === 'UL' || e.target.nodeName === 'A') {\n    return;\n  }\n  const item = e.target.closest('.js-contact-card');\n  const id = item.dataset.id;\n\n  if (e.target.nodeName == 'BUTTON') {\n    console.log(id);\n    deleteContact(id);\n    item.remove();\n  }\n}\n\nfunction getContscts() {\n  return fetch(`${BASE_URL}contacts`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction deleteContact(id) {\n  return fetch(`${BASE_URL}contacts/${id}`, {\n    method: 'DELETE',\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(contact => {\n      Notiflix.Notify.info(`${contact.name} was deleted!`);\n    });\n}\n\ngetContscts().then(data => {\n  const contactItems = data.map(createMarkup).join('');\n\n  refs.list.innerHTML = contactItems;\n});\n\nfunction createMarkup({ id, name, createdAt, avatar, phone, email }) {\n  return `<li data-id=\"${id}\" class=\"col-md-6 js-contact-card\">\n      <div class=\"card mb-2 shadow\">\n        <div class=\"d-flex justify-content-between pb-3 border-bottom\">\n          <div class=\"d-flex flex-row align-items-center gap-1\">\n            <div class=\"icon\">\n               <span class=\"material-icons-outlined\"> contacts </span>\n            </div>\n            <div class=\"ms-2 c-details\">\n              <h2 class=\"h5 mb-0 fw-bold\">${id} - ${name}</h2>\n              <span>${createdAt}</span>\n            </div>\n          </div>\n          <img  src=\"${avatar}\" alt=\"${name}\" width=\"70\" height=\"70\"/>\n          <button type=\"button\" class=\"btn-close\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"mt-2\">\n          <ul class=\"list-group list-group-flush\">\n            <li class=\"list-group-item d\">\n              <a\n                href=\"tel:+${phone}\"\n                class=\"d-flex align-items-center text-secondary text-decoration-none nav-link\"\n                ><span class=\"material-icons-round me-2\"> phone </span> ${phone}</a\n              >\n            </li>\n            <li class=\"list-group-item\">\n              <a\n                href=\"mailto:${email}\"\n                class=\"d-flex align-items-center text-secondary text-decoration-none nav-link\"\n                ><span class=\"material-icons-round me-2\">\n                  alternate_email\n                </span>\n                ${email}</a\n              >\n            </li>\n          </ul>\n        </div>\n      </div>\n    </li>`;\n}\n\n// ``;\n"],"names":["$eWCmQ","parcelRequire","$ec26aa9b20ad1325$var$refs","list","document","querySelector","$ec26aa9b20ad1325$var$createMarkup","id","name","createdAt","avatar","phone","email","addEventListener","e","target","nodeName","item","closest","dataset","console","log","fetch","method","then","response","ok","Error","statusText","json","contact","$parcel$interopDefault","Notify","info","$ec26aa9b20ad1325$var$deleteContact","remove","data","contactItems","map","join","innerHTML"],"version":3,"file":"contacts.6b47f607.js.map"}